<Publish>
	<!--Id must be set in order to update existed mod. it is not required for publishing mod for the first time-->
	<ModId Value="87755" />
	<!--Name of the mod to display to players-->
	<DisplayName Value="Realistic Workplaces And Households" />
	<!--Short description of the mod-->
	<ShortDescription Value="This mod updates the number of households and workplaces in buildings by calculating the building dimensions." />
	<!--Long description of the mod. Single line or multi line. Supports minimal markdown subset-->
	<!--LongDescription Value="This is a long description" /-->
	<LongDescription>
This mod recalculates **households**, **workplaces**, and **many city-service staffing/capacities** based on a building’s **real dimensions (width/length/height)** and a set of configurable “space-per-unit” parameters. The goal is to make capacity feel consistent across different asset styles, lot sizes, and heights—so a big building actually holds more people/workers than a small one.

The mod includes optional “balancing helpers” (upkeep/consumption/noise/rent) to compensate for the gameplay side effects of higher or lower occupancies.

## Supported building types

### Zoned buildings

* **Residential (including row-home handling and density tuning via asset-pack factors)**
* **Commercial**
* **Office**
* **Industrial (standard industry / non-specialized)**

### City services and ploppables (capacity / workers calculated from dimensions)

Includes (among others):

* **Admin Buildings**
* **Welfare Office**
* **Research Facilities**
* **Transport Stations**
* **Telecom Facilities**
* **Parks**
* **Police Stations, Fire Stations**
* **Hospitals / Clinics**
* **Schools (students + staff)**
* **Prisons**
* **Power plants**
* **Depots / maintenance / cargo and transport-related buildings**
* **Garbage facilities**

## How the calculations work (high level)

Different building categories use different formulas, but the overall approach is:

1. **Read building dimensions from the prefab mesh**
2. **Estimate floors** from height (category-specific average floor height)
3. Compute usable floor area, then convert area into:

* **households** (sqm per apartment + hallway/elevator/other reductions)
* **workers** (sqm per worker + non-usable space + category tweaks)
* **schools:** students are area-based, workers derived from **students-per-teacher** plus **support staff %**

## Asset pack factors (with Save to CSV)

If an asset pack tends to be “too dense” or “too sparse,” you can apply a multiplier per pack for:

* Low density
* Row homes
* Medium/High density

There’s a **Load** button (load the current pack’s factors into the sliders) and a **Save** button that writes your edits to a CSV so they persist across sessions.

## Export tools

### Export Building Statistics (CSV)

There’s an **“Export Building Statistics”** button that exports CSV files with detailed prefab info (ex: **height, lot size, population, etc.**) to your **Documents folder**.

## Optional balancing helpers

Because changing building capacity can indirectly change city costs and resource demand, the mod includes:

* **Service Upkeep Cost Reduction** (to offset higher service staffing costs)
* **Electricity / Water Consumption Reduction** (applied to prefab consumption data)
* **Noise Factor** (scale building noise output)
* **Residential Rent Discount**
* **Global Workplace/Households reduction (%)**

## Enable/disable controls

You can disable major parts independently:

* Disable **household** calculations
* Disable **workplace** calculations
* Disable **city-services** calculations

## Existing cities and changing settings

Applying this mod to an existing save (or changing settings) can **increase or decrease** capacities. If a building ends up with fewer households than before, extra residents may be forced to move, and you may see short-term swings in population/employment while the simulation stabilizes.

## Known issues / notes

* If you see unusual demand or filling behavior after enabling the mod, consider temporarily increasing the game’s “Find Property” request limits (then reduce later).
* Buildings placed via “Plop the Growables” can sometimes end up with odd employee numbers; saving and reloading may help. (Placing growables this way is not recommended.)

## Compatibility

This mod overlaps in purpose with other “realistic occupancy/density” mods. Don’t run multiple mods that all overwrite household/workplace capacities at the same time.

## Credits

Inspired by:

* **Realistic Population (CS1)**
* **Realistic Building Occupancy** and **Realistic Density (CS2)** — thanks to **Trejak, Mimonsi, and 89pleasure** for the ideas and reference implementations.

Additional credits:

* **Logiteee** — implementation work for the **Export to CSV** button / export feature.
	</LongDescription>
	<!--Thumbnail-->
	<Thumbnail Value="Properties/Thumbnail.jpg" />
	<Screenshot Value="Properties/screenshot1.jpg" />
	<Screenshot Value="Properties/screenshot2.jpg" />
	<Screenshot Value="Properties/screenshot3.jpg" />
	<Screenshot Value="Properties/screenshot34.jpg" />
	<!--Screenshot, can be set multiple times-->
	<Screenshot Value="" />
	<!--Tag, can be set multiple times-->
	<Tag Value="" />
	<!--Link to the forum post where the mod can be discussed-->
	<ForumLink Value="https://forum.paradoxplaza.com/forum/threads/realistic-workplaces-and-households.1699586/" />
	<!--Version of the mod-->
	<ModVersion Value="1.6.1" />
	<!--Recommended version of the base game to use the mod-->
	<GameVersion Value="1.5.*" />
	<!--Dependency for the mod, can be set multiple times-->
	<Dependency Id="" />
	<ChangeLog>
* Updated mod to be better compatible with Plop the Growables mod.
	</ChangeLog>
	<!--External link. supported types are discord, github, youtube, twitch, x, paypal, patreon-->
	<ExternalLink Type="github" Url="https://github.com/ruzbeh0/RealisticWorkplacesAndHouseholds/" />
	<ExternalLink Type="discord" Url="https://discord.com/channels/1024242828114673724/1273862795020206144" />
	<ExternalLink Type="paypal" Url="https://www.paypal.com/paypalme/ruzbeh0" />
	<ExternalLink Type="kofi" Url="https://ko-fi.com/ruzbeh0" />
</Publish>
